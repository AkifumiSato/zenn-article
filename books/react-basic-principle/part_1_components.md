---
title: "コンポーネント指向"
---

## 要約

Reactではコンポーネントを組み合わせてアプリケーションを構築します。コンポーネント分割の主な目的は、**再利用性の向上**と**関心の分離**です。

## 背景

Webは当初、ドキュメントの参照を目的に発展した技術です。そのため、Webの基本的なアーキテクチャはURLに対応するページを取得する、いわば**ページ指向**です。URLに対応する1つのHTMLファイルがあり、装飾するCSS、動的振る舞いを定義するJavaScriptのように、ページを中心としたアーキテクチャが基本となっています。

一方近年のWebアプリケーションの台頭により、ページに含まれる構成要素は複雑化し、ページ指向のままアプリケーションを開発することは非常に困難であることがわかりました。

**コンポーネント指向**は、ページ指向の上にアプリケーションを構築しようとして発生する課題を解決すべく発案されました。コンポーネント指向ではHTML・CSS・JSを1つのコンポーネントという単位にまとめることでスコープを作成し、考えるべき範囲をページから限定します。また、ページ間でコンポーネントを共通化できるため、再利用性が高く冗長な実装を排除することができます。

## 設計・プラクティス

Reactもまたコンポーネント指向なフレームワークであり、コンポーネントを組み合わせてアプリケーションを構築します。言い換えると、アプリケーション要件を**コンポーネントに分割する設計力**が必要になります。

コンポーネントを分割する観点としては大きく2つで、**再利用性の向上**と**関心の分離**が挙げられます。

### 再利用性の向上

TBW

- 複数個所で利用するUI単位は、コンポーネントとして分割すべきです。
- 一般的にデザインシステムとして表現されるような低レベルなコンポーネントはもちろんのこと、複数箇所で使う大きなUI単位もコンポーネントとして分割することで重複実装を排除することができます。
- ただし、コンポーネントとして分割し複数箇所で利用することは結合度が高い状態でもあり、利用者側の都合が入り続けると責務が肥大化し破綻します。
- 共通利用する単位でのコンポーネント分割、特に大きなコンポーネントは慎重に設計する必要があるでしょう。
- note: 凝集度と結合度

### 関心の分離

TBW

- Reactではページや振る舞いもコンポーネントとして表現することも多い
- そのため、単一責務を意識したコンポーネント分割による**関心の分離**が重要になる
- 適切にコンポーネントを分割しなければ、重厚なコンポーネントが誕生し保守性や可読性に甚大な影響が出る
- 過剰な分割は保守性や可読性を悪化させうるため、適切な粒度での分割が重要になる
- 「適切な単位」というのは、アプリケーション特性や開発者特性にもよるため、一概な解はないと考えられます。
- そのため、開発者間で合意形成をしてくことが重要である

## トレードオフ

TBW

### デザイナーの考えるコンポーネント

デザイナーにとってコンポーネントとは**UIコンポーネント**を指すことが多く、システム的振る舞いを持たない場合も多いので用語の取り扱いには注意が必要です。

Reactにおいては、ページコンポーネントのように非常に大きなコンポーネントや、システム的振る舞いのみを定義したContainerコンポーネントなど、デザイン文脈では登場しないコンポーネントも多数存在します。

### 学習コスト

- コンポーネント指向は既存のWebアーキテクチャの上に成り立つものであり、HTML・CSS・JSの学習ありきで理解できるものである
- そのため、初学者の学習コストとしては少し高くなる可能性もある
- 一方で、初学者が無設計にWebアプリケーションの構築に挑んで失敗するような事態は避けられるので、トレードオフである
