---
title: "TDDで改善するGitHub Copilotの精度"
emoji: "🤖"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["githubcopilot", "tdd"]
published: false
---

GitHub Copilot、みなさん使ってますか？すでに多くの方が利用しており、「（copilotが）ないと厳しい」という方から「提案の質に問題がある」「まだまだ使えない」という方まで、様々な意見を聞きます。新出のツールに対する感想は人によって習熟度が異なるので、一概にこれらの感想を受け入れるのではなく習熟度やコンテキストを見極めながら分析することが重要だと筆者は考えます。

さて、筆者はGitHub Copilotに対して非常にポイティブな立場です。GitHub Copilotは使い方次第で開発速度を格段に向上させることを身をもって体験しており、これからの時代においてはGitHub Copilot始め多くのAIツールを使いこなせるかどうかで、個人の開発速度に非常に大きな差が出ると考えています。重要なのは**使い方次第**と言う点です。静的解析同様、利用者側の手腕が大きく問われるツールであると筆者は感じています。

コマンドプロンプトエンジニアリングという言葉もあるように、AIツールを使いこなすには有用なヒントを与えることが重要です。ヒントが粗悪であれば、提案の品質も粗悪になってしまいます。また、GitHub Copilotはより小さい問題解決ほど得意としています。この点から筆者は、「TDDとGitHub Copilotは相性がいいのではないか」と考えて実践してみたところ、提案の品質を劇的に向上させることに成功しました。

本稿はTDDとGitHub Copilotの相性について考察し、AI時代にこそTDDの習得が重要であることを主張する記事です。

## TDDの定義と誤解

TDDとは**Test-Driven Development**（テスト駆動開発）の略称です。最近も考案者のKent Beck氏がTDDについて、本来の定義が弱まって伝わる「意味の希薄化」が発生しているとして改めて定義を説明し、話題になりました。以下はKent Beck氏の投稿の翻訳を含むt-wadaさんの記事です。

https://t-wada.hatenablog.jp/entry/canon-tdd-by-kent-beck

[テスト駆動開発の原著](https://www.ohmsha.co.jp/book/9784274217883/)もしくは上記記事を読んだことのない方はぜひ、というか絶対読んでください。以降本稿ではTDDに対する誤解には触れないので、正しい定義と手順を知っている前提になります。

:::message
ここでは下手に概要を説明してTDDについての誤解を助長したりしたくはないので、あえてこれ以上説明しません。
:::

## GitHub Copilotの学習

GitHub CopilotはGitHubが提供するAIツールです。本稿を読んでいる方に詳細な説明は不要でしょうから割愛します。

GitHub Copilotは書き込んでいる次のコードを予想して提案してくるわけですが、これは開いているファイルタブから強く学習して提案を検討します。当然、提案内容は学習した結果に強く影響されるので、静的型定義や既存の実装、コメントはGitHub Copilotにとって大きなヒントになります。**いかに良質なヒントを与えられるかが、利用者側のスキルとなる**でしょう。ペアプログラミングに近い感覚で、説明が下手だとドライバーはずっとコードを提案できないということもあります。

## 構成

- TDDとGithub Copilot
  - AIは具体的な問題点解決が得意
  - 型定義、命名、テストは非常に有用なヒントになる
  - 書けば書くほどにより自分の頭にあるコードが正確に補完される
  - 逆に言うと、誤りを見抜くレビュースキルが重要になる
  - 特性上、一気に実装を補完してくる
    - しかしまずはRED
    - GREENにする時は悩ましいので都度判断し、問題が大きすぎると感じる時は提案を無視して小さな実装をし直す(途中まで書けば意図を汲み取ってくれるだろう)
- Copilot Chat
  - ありもののコードを読み解くことや変更に長けてる
  - リファクタリングに迷うなら相談すると良いだろう
- 実演
  - Fizz Buzzは飽きたでしょう
  - fetcherを実装し、httpステータスに応じて戻り値やthrowしてみよう
- 生産性の差
  *
- まとめ

https://hackernoon.com/ja/github-copilot-%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%81%AF%E6%9C%AC%E5%BD%93%E3%81%AB%E9%96%8B%E7%99%BA%E9%80%9F%E5%BA%A6%E3%82%92-55%25-%E5%90%91%E4%B8%8A%E3%81%95%E3%81%9B%E3%81%BE%E3%81%99%E3%81%8B