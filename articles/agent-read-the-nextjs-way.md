---
title: "AI Agentで「Next.jsの考え方」を活かす"
emoji: "📖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["nextjs", "react"]
published: false
---

AI Agentは日々進化していますが、自分の頭にすでに実装の完成イメージがある場合それをAI Agentに出力させることは難しく、さまざまな工夫が必要です。試行錯誤する手間暇を惜しんで、結局自分がドライバーとなって実装することも多々あります。

Agentに与えるコンテキストやプロンプトを最適化することでより精度を高めることもできますが、理想的にはやはりルールを整備して解決したいところです。しかし、自分にとって最適なルールを整備することもまた、大変な労力を伴います。

筆者は過去に[Next.jsの考え方](https://zenn.dev/akfm/books/nextjs-basic-principle)というZennの本に、Next.jsの設計やベストプラクティスを執筆しました。Next.jsのアプリケーションにおいて、筆者の頭にある実装の完成イメージはこの本の内容に沿って生成されるため、この本をAI Agentに読ませることで、AI生成の実装を自身の頭にある実装イメージに近づけることができるのではないかと考えました。

本稿では、AI Agentに「Next.jsの考え方」を適用するために筆者が試行錯誤した内容と、筆者なりの活かし方を紹介します。

## 構成案

- 序文
  - AI Agentの実装品質は日に日に改善してる
  - しかし、「自分がしてほしい実装」との乖離が大きいと結局自分で書いてしまう
  - あらかじめプロンプトで何を気をつけるべきか設定しておくなど、さまざま工夫していたが、「本をそのままルールに設定できたら自分がしてほしい実装に近づくのでは？」と思いついた
  - 実際にやってみると、それなりに効果が見られたため、さまざまな角度から調整と検証を行なった
  - Next.js利用者のヒントになれば幸い
- 要約
  - Next.jsの考え方を読ませる＋参考コードあると、Agentのアウトプット品質よくなる
- 前提
  - AI Agent: Claude
  - AI以外のチェックツール: TS、Biome、Vitest
  - Next.jsの考え方
- 解説
  - 序文
    - いくつかの前提条件とルールを整備することで、Next.jsの考え方の価値観をClaudeに反映できる
  - 静的解析と単体テスト
  - 「Next.jsの考え方」のマークダウンコピー
  - ルールの作成
  - 参考コードを用意
- 評価
  - 記事詳細ページを実装
  - 完璧ではないがそれなりに理解してるように見受けられた
  - 他リポジトリで試した時は、DataLoaderもうまく使った設計を行えていた
- 注意点
  - 本のみ
  - 参考コードのみ
  - 本のサマリーをルール設定
  - 既存実装のノイズ（未検証）
- 考察
  - ルール経由で本を読ませる方が精度は良かったように感じる
  - 多少具体例を含んでても本は抽象度が高いので、具体の参考コードがある方が強い
  - これらの要素どちらかが欠けて進めた場合、筆者の要求精度には到達しなかった
