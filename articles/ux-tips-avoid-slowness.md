---
title: "遅いと感じさせないUXのテクニック"
emoji: "⚡️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["performance", "ui"]
published: false
---

Googleは以前より、[ユーザー中心のパフォーマンス](https://web.dev/articles/user-centric-performance-metrics?hl=ja)が重要だと考えてきました。筆者はこれに共感しており、パフォーマンス改善において最も重要な観点はユーザーが実際にどう感じるか、つまり**パフォーマンス体験**であり、パフォーマンスとはUXの一部だと考えています。昨今パフォーマンスにおいて重要な指標となっている[Core Web Vitals](https://developers.google.com/search/docs/appearance/core-web-vitals?hl=ja)も、UXを定量的に測定することを目的に設計されたものです。

しかし、パフォーマンスに関するUXが全て定量的に計測できるわけではありません。Core Web Vitalsは非常に優れた計測指標ですが、パフォーマンスに関するUXの全てを計測してるわけではありません。定量的に計測できずとも、パフォーマンス体験を向上させるために重要なUXのテクニックは様々存在します。

本稿では、筆者が意識してるUX観点のパフォーマンス改善について解説します。

## 要約

1. 早期レイアウト表示
2. 表示が遅い要素を分離
3. ローダーやスケルトンは遅い時のみ
4. fade inアニメーションを入れる
5. ポップコーンUIにしない

## 解説

1. 早期レイアウト表示
   - レイアウトはできるだけ早く表示します
   - 個人的に大事なのは、「確定したレイアウトを早く出す」こと
   - 例えばログイン画面などへリダイレクトが起こりうる場合、リダイレクト前後でレイアウトが共通なら表示して問題ないと思う
   - 共通でないなら、画面がチラついて見えてしまう
   - 当然、UXとしてよくない
   - なのでこの場合、最低限必要なログインチェックなどした後にレイアウトを表示することが重要
   - つまり、「確定したレイアウトを早く出す」
2. 表示が遅いコンテンツを分離
   1. レイアウトを早く出すということは、メインのコンテンツは遅延して表示することになる
   2. メインコンテンツ全体が高速なら問題はないが、どこか表示に時間のかかる要素があるなら、さらに部分的な表示を遅延させる
   3. たとえば、Zennのコメント欄やヘッダーのログインアイコンは、ページの読み込みとは分離されてる
   4. この際、ヘッダーなどの要素はレイアウトシフトしないように設計することも重要
   5. ただし、表示が段階的になるほど画面がうるさく感じてくる
   6. これは一部でポップコーンUIと称される、アンチパターンである
3. ローダーやスケルトンは遅い時のみ
   - ローダーやスケルトンは、読み込みが遅い時にユーザーに対し「読み込みに時間がかかっています」ということを伝えるインターフェース
   - 読み込みが多くない時に表示すると、画面がチラついて見えるだけ
   - 要素の表示速度が安定して高速なら、ローダーやスケルトンは不要
   - 要素の表示速度が安定して低速なら、ローダーやスケルトンは必要
   - 要素の表示速度が不安定なら、ローダーやスケルトンを遅い時だけ出す
4. fade inアニメーションを入れる
   - 遅れて表示されるコンテンツには、fade inアニメーションが適切である
   - あまり言語化できてないが、個人的にはfade inにするだけでかなり自然に感じるのである
   - アプリケーションによっては、slide inでも良いと思う

## まとめ

- Core Web Vitalsなど、定量化された指標でパフォーマンスを計測し、改善することは非常に重要
- 同じくらい、UXにおける工夫もとても重要
- この記事が参考になれば幸いです
